

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Animations &mdash; AbstractMenus  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/overrides.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/js/links.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Menu generator" href="generation.html" />
    <link rel="prev" title="Templates" href="templates.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #8261BC" >
          

          
            <a href="../index.html" class="icon icon-home"> AbstractMenus
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../start/how_to.html">How to create menu</a></li>
<li class="toctree-l1"><a class="reference internal" href="../start/hocon.html">HOCON format</a></li>
<li class="toctree-l1"><a class="reference internal" href="../start/faq.html">FAQ</a></li>
</ul>
<p class="caption"><span class="caption-text">General Features</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../general/menu_structure.html">Menu structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general/item_format.html">Item format</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general/activators.html">Activators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general/actions.html">Actions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general/rules.html">Rules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general/variables.html">Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general/text_colors.html">Colorizing text</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general/placeholders.html">Placeholders</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general/examples.html">Examples</a></li>
</ul>
<p class="caption"><span class="caption-text">Advanced Features</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="logical.html">Logical structures</a></li>
<li class="toctree-l1"><a class="reference internal" href="templates.html">Templates</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Animations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#frame-by-frame-animation">Frame-by-frame animation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#frame-format">Frame format</a></li>
<li class="toctree-l3"><a class="reference internal" href="#create-simple-animation">Create simple animation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#static-items">Static items</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#head-animation">Head animation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#add-head-animation">Add head animation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#using-added-animation">Using added animation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="generation.html">Menu generator</a></li>
</ul>
<p class="caption"><span class="caption-text">For Developers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dev/api.html">Plugin API</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">AbstractMenus</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Animations</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="animations">
<h1><a class="toc-backref" href="#id4">Animations</a><a class="headerlink" href="#animations" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#animations" id="id4">Animations</a></p>
<ul>
<li><p><a class="reference internal" href="#frame-by-frame-animation" id="id5">Frame-by-frame animation</a></p>
<ul>
<li><p><a class="reference internal" href="#frame-format" id="id6">Frame format</a></p></li>
<li><p><a class="reference internal" href="#create-simple-animation" id="id7">Create simple animation</a></p></li>
<li><p><a class="reference internal" href="#static-items" id="id8">Static items</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#head-animation" id="id9">Head animation</a></p>
<ul>
<li><p><a class="reference internal" href="#add-head-animation" id="id10">Add head animation</a></p></li>
<li><p><a class="reference internal" href="#using-added-animation" id="id11">Using added animation</a></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="frame-by-frame-animation">
<h2><a class="toc-backref" href="#id5">Frame-by-frame animation</a><a class="headerlink" href="#frame-by-frame-animation" title="Permalink to this headline">¶</a></h2>
<p>Any menu with frame-by-frame animation should have a <code class="docutils literal notranslate"><span class="pre">frames</span></code> block in the root of the menu. If the menu has a <code class="docutils literal notranslate"><span class="pre">frames</span></code> block, the plugin will suppose this menu is animated. The frames block itself replaces the standard <code class="docutils literal notranslate"><span class="pre">items</span></code> block. Below are the parameters that can be specified in any animated menu, in addition to the standard.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 10%" />
<col style="width: 20%" />
<col style="width: 60%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Data type</p></th>
<th class="head"><p>Required</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>onAnimStart</p></td>
<td><p>Object</p></td>
<td><p>No</p></td>
<td><p>Actions before animation start</p></td>
</tr>
<tr class="row-odd"><td><p>onAnimEnd</p></td>
<td><p>Object</p></td>
<td><p>No</p></td>
<td><p>Actions after animation finished (won’t work for looped animations)</p></td>
</tr>
<tr class="row-even"><td><p>loop</p></td>
<td><p>Boolean</p></td>
<td><p>No</p></td>
<td><p>Loop the animation. By default is <code class="docutils literal notranslate"><span class="pre">false</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>frames</p></td>
<td><p>Objects list</p></td>
<td><p>Yes</p></td>
<td><p>List of animation frames</p></td>
</tr>
<tr class="row-even"><td><p>items</p></td>
<td><p>Objects list</p></td>
<td><p>No</p></td>
<td><p>List of static items</p></td>
</tr>
</tbody>
</table>
<p>Below you can see an example of an empty menu, prepared for adding frames.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">title</span><span class="p">:</span> <span class="s2">&quot;&amp;eAnimated menu&quot;</span>
<span class="n">size</span><span class="p">:</span> <span class="mi">3</span>
<span class="n">activators</span> <span class="p">{</span>
  <span class="n">command</span><span class="p">:</span> <span class="s2">&quot;anim&quot;</span>
<span class="p">}</span>
<span class="n">loop</span><span class="p">:</span> <span class="n">true</span>
<span class="n">frames</span><span class="p">:</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="c1"># ... Here is some frame that we will add later</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="c1"># ... Second frame</span>
  <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<div class="section" id="frame-format">
<h3><a class="toc-backref" href="#id6">Frame format</a><a class="headerlink" href="#frame-format" title="Permalink to this headline">¶</a></h3>
<p>The frame is a unit of animation. Each frame contains a list of buttons that will be placed in inventory, as well as additional useful parameters. Below is a table of parameters of any frame.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 10%" />
<col style="width: 20%" />
<col style="width: 60%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Data type</p></th>
<th class="head"><p>Required</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>delay</p></td>
<td><p>Number</p></td>
<td><p>No</p></td>
<td><p>Delay in ticks before playing this frame. By default is <code class="docutils literal notranslate"><span class="pre">20</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>clear</p></td>
<td><p>Boolean</p></td>
<td><p>No</p></td>
<td><p>Clear inventory before adding new frame items. By default is <code class="docutils literal notranslate"><span class="pre">true</span></code></p></td>
</tr>
<tr class="row-even"><td><p>rules</p></td>
<td><p>Object</p></td>
<td><p>No</p></td>
<td><p>Rules for playing a frame</p></td>
</tr>
<tr class="row-odd"><td><p>onStart</p></td>
<td><p>Object</p></td>
<td><p>No</p></td>
<td><p>Actions <strong>before</strong> frame play</p></td>
</tr>
<tr class="row-even"><td><p>onEnd</p></td>
<td><p>Object</p></td>
<td><p>No</p></td>
<td><p>Actions <strong>after</strong> frame play</p></td>
</tr>
<tr class="row-odd"><td><p>items</p></td>
<td><p>Objects list</p></td>
<td><p>Yes</p></td>
<td><p>List of items for this frame</p></td>
</tr>
</tbody>
</table>
<p>If the <code class="docutils literal notranslate"><span class="pre">clear</span></code> parameter set to <code class="docutils literal notranslate"><span class="pre">false</span></code>, then when frame plays, items already in the inventory will not be deleted. This will allow you to slightly optimize both the load on the server and the size of the menu file.</p>
<p>In the <code class="docutils literal notranslate"><span class="pre">items</span></code> block, items has the same format as always, similarly to the usual menu items.</p>
<p>The minimum possible delay between frames is 1 tick.</p>
<p>If rules are specified for a frame, before playing the player will first be checked for compliance with these rules. If it does not match, the frame will be just skipped, and items from the previous frame will remain in the inventory.</p>
</div>
<div class="section" id="create-simple-animation">
<h3><a class="toc-backref" href="#id7">Create simple animation</a><a class="headerlink" href="#create-simple-animation" title="Permalink to this headline">¶</a></h3>
<p>Now let’s create a simple animation. We need the item in inventory to move from the left to the right corner. The example uses templates, but you can do it without them by simply copying all the parameters (not recommended). Our animation menu file will looks like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>title: &quot;&amp;lAnimation example&quot;
size: 1
activators {
  command: &quot;menu&quot;
}
frames: [
  {
    delay: 10
    items: [
      ${someItem} {slot: 0}
    ]
  },
  {
    delay: 10
    items: [
      ${someItem} {slot: 1}
    ]
  },
  {
    delay: 10
    items: [
      ${someItem} {slot: 2}
    ]
  },
  {
    delay: 10
    items: [
      ${someItem} {slot: 3}
    ]
  },
  {
    delay: 10
    items: [
      ${someItem} {slot: 4}
    ]
  },
  {
    delay: 10
    items: [
      ${someItem} {slot: 5}
    ]
  },
  {
    delay: 10
    items: [
      ${someItem} {slot: 6}
    ]
  },
  {
    delay: 10
    items: [
      ${someItem} {slot: 7}
    ]
  },
  {
    delay: 10
    items: [
      ${someItem} {slot: 8}
    ]
  }
]

someItem {
  material: STONE
  name: &quot;&amp;aHello!&quot;
}
</pre></div>
</div>
<p>In the game, it looks like this:</p>
<div class="figure align-center" id="id1">
<img alt="../_images/animations_first_example.gif" src="../_images/animations_first_example.gif" />
<p class="caption"><span class="caption-text">Simple animation result</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
<p>Here, our <code class="docutils literal notranslate"><span class="pre">someItem</span></code> item was placed in 9 different frames. In each next frame, we’ve set the item position to the next slot. Since the <code class="docutils literal notranslate"><span class="pre">clear</span></code> parameter was set to <code class="docutils literal notranslate"><span class="pre">true</span></code> by default, the inventory clears before each frame.</p>
<p>This is just the the simplest example of animation. If you wish, you can create truly complex and beautiful animations.</p>
</div>
<div class="section" id="static-items">
<h3><a class="toc-backref" href="#id8">Static items</a><a class="headerlink" href="#static-items" title="Permalink to this headline">¶</a></h3>
<p>Each animated menu can contains static items which won’t be changed while animation plays.
This useful for static backgrounds or other purposes.</p>
<p>Static items should be defined inside <code class="docutils literal notranslate"><span class="pre">items</span></code> block, as you do it for regular menus. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">frames</span><span class="p">:</span> <span class="p">[</span>
  <span class="c1"># Some frames here</span>
<span class="p">]</span>

<span class="n">items</span><span class="p">:</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="n">slot</span><span class="p">:</span> <span class="mi">0</span>
    <span class="n">name</span><span class="p">:</span> <span class="s2">&quot;Exit item&quot;</span>
    <span class="n">click</span> <span class="p">{</span>
      <span class="n">closeMenu</span><span class="p">:</span> <span class="n">true</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<p>In this example we created static item to exit from menu. While animation plays, this item won’t be changed.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Static items puts into inventory in two cases - once when menu opened or if some frame cleared inventory.</p>
</div>
</div>
</div>
<div class="section" id="head-animation">
<h2><a class="toc-backref" href="#id9">Head animation</a><a class="headerlink" href="#head-animation" title="Permalink to this headline">¶</a></h2>
<p>The plugin allows you to create head animations using pre-created textures. Animation for the head can be created in two stages:</p>
<ol class="arabic simple">
<li><p>Create the head textures and add these textures as animation frames.</p></li>
<li><p>Add animations to the menu through a special placeholder.</p></li>
</ol>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Head animations will only work if the menu has the <code class="docutils literal notranslate"><span class="pre">updateInterval</span></code> parameter. Each head frame plays along with a menu update.</p>
</div>
<div class="section" id="add-head-animation">
<h3><a class="toc-backref" href="#id10">Add head animation</a><a class="headerlink" href="#add-head-animation" title="Permalink to this headline">¶</a></h3>
<p>Each frame of the head animation is a separate head. To create an animation, you first need to generate each head (frame) for the animation. It is best to use the <a class="reference external" href="https://mineskin.org">MineSkin</a> service for this. After generation, you need to copy the link to the texture. The texture field is located as shown in the screenshot below.</p>
<div class="figure align-center" id="id2">
<img alt="../_images/anim_tex_upload.png" src="../_images/anim_tex_upload.png" />
<p class="caption"><span class="caption-text">Texture field to copy</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</div>
<p>We need only the hash of the skin, without the address <code class="docutils literal notranslate"><span class="pre">http://textures.minecraft.net/texture/</span></code>.</p>
<p>After we created frames, and saved all head textures, they can be added to the <code class="docutils literal notranslate"><span class="pre">animated_heads.conf</span></code> file, which is located in the plugin folder. Initially, this file already contains one animation that you can try just now. It is called <code class="docutils literal notranslate"><span class="pre">anim_eye</span></code>.</p>
<p>To add your animation, create a <a class="reference internal" href="../start/hocon.html#hocon-list-str"><span class="std std-ref">list of strings</span></a> anywhere in the config, similar to the <code class="docutils literal notranslate"><span class="pre">anim_eye</span></code> block. Each next element in the list is the next frame. Head animation always looped. You should know it when you creating animation frames. After you’ve added all frames to the file, save it. The animation is created, now it needs to be added to the item.</p>
</div>
<div class="section" id="using-added-animation">
<h3><a class="toc-backref" href="#id11">Using added animation</a><a class="headerlink" href="#using-added-animation" title="Permalink to this headline">¶</a></h3>
<p>Any item has a <code class="docutils literal notranslate"><span class="pre">texture</span></code> parameter. Thanks to a special placeholder, this parameter can be used in a new way. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">items</span><span class="p">:</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="n">slot</span><span class="p">:</span> <span class="mi">0</span>
    <span class="n">texture</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">%ha</span><span class="s2">nim_:anim_eye:1%&quot;</span>
    <span class="n">name</span><span class="p">:</span> <span class="s2">&quot;&amp;aAnimated head&quot;</span>
  <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<p>Here, in the <code class="docutils literal notranslate"><span class="pre">texture</span> <span class="pre">parameter</span></code>, instead of a static texture, we added a special placeholder. It will be replaced with the texture of a specific frame during the menu update through <code class="docutils literal notranslate"><span class="pre">updateInterval</span></code> parameter. You can see an example of the animation below.</p>
<div class="figure align-center" id="id3">
<img alt="../_images/animations_eye.gif" src="../_images/animations_eye.gif" />
<p class="caption"><span class="caption-text">Head animation example</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</div>
<p>The number <code class="docutils literal notranslate"><span class="pre">1</span></code>, that was specified after the name of the animation, is necessary to identify this particular button. In one menu, each item with the same animation should have different identifiers. You can use any text, but we used just a number. If several buttons on the same menu and with one animation have the same identifier, a frames of the animation will not be displayed correctly.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="generation.html" class="btn btn-neutral float-right" title="Menu generator" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="templates.html" class="btn btn-neutral float-left" title="Templates" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Nanit.

    </p>
  </div> 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>