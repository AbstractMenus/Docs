<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>User input &mdash; AbstractMenus  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/overrides.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/js/links.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Templates" href="templates.html" />
    <link rel="prev" title="Logical structures" href="logical.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #F05454" >
            <a href="../index.html" class="icon icon-home"> AbstractMenus
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../start/how_to.html">How to create menu</a></li>
<li class="toctree-l1"><a class="reference internal" href="../start/hocon.html">HOCON format</a></li>
<li class="toctree-l1"><a class="reference internal" href="../start/faq.html">FAQ</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">General Features</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../general/menu_structure.html">Menu structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general/item_format.html">Item format</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general/activators.html">Activators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general/actions.html">Actions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general/rules.html">Rules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general/variables.html">Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general/text_colors.html">Text formatting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general/placeholders.html">Placeholders</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general/examples.html">Examples</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Advanced Features</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="logical.html">Logical structures</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">User input</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#activator-context">Activator context</a></li>
<li class="toctree-l2"><a class="reference internal" href="#context-placeholders">Context placeholders</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#how-to-use-context-placeholer-of-activator">How to use context placeholer of activator</a></li>
<li class="toctree-l3"><a class="reference internal" href="#example-1-using-context-placeholders">Example 1. Using context placeholders</a></li>
<li class="toctree-l3"><a class="reference internal" href="#example-2-personal-profile-menu">Example 2. Personal profile menu</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#commands-building">Commands building</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#command-format">Command format</a></li>
<li class="toctree-l3"><a class="reference internal" href="#simple-arguments">Simple arguments</a></li>
<li class="toctree-l3"><a class="reference internal" href="#typed-arguments">Typed arguments</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#example-1-number-argument">Example 1. Number argument</a></li>
<li class="toctree-l4"><a class="reference internal" href="#example-2-choice-argument">Example 2. Choice argument</a></li>
<li class="toctree-l4"><a class="reference internal" href="#example-3-player-argument">Example 3. Player argument</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#using-regular-placeholders-for-player-argument">Using regular placeholders for player argument</a></li>
<li class="toctree-l3"><a class="reference internal" href="#default-arguments">Default arguments</a></li>
<li class="toctree-l3"><a class="reference internal" href="#final-example-open-profile-menu-by-command">Final example. Open profile menu by command</a></li>
<li class="toctree-l3"><a class="reference internal" href="#command-overriding">Command overriding</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#chat-input">Chat Input</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#input-cancelling">Input Cancelling</a></li>
<li class="toctree-l3"><a class="reference internal" href="#restrictions">Restrictions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="templates.html">Templates</a></li>
<li class="toctree-l1"><a class="reference internal" href="animations.html">Animations</a></li>
<li class="toctree-l1"><a class="reference internal" href="generation.html">Menu generator</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">For Developers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dev/general.html">Plugin API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/serializers.html">Types deserializing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/own_types.html">Create own types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/handlers.html">Data Handlers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/variables.html">Variables API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/utils.html">Utils</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #F05454" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">AbstractMenus</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>User input</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="user-input">
<h1><a class="toc-backref" href="#id7">User input</a><a class="headerlink" href="#user-input" title="Permalink to this headline"></a></h1>
<div class="contents topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#user-input" id="id7">User input</a></p>
<ul>
<li><p><a class="reference internal" href="#activator-context" id="id8">Activator context</a></p></li>
<li><p><a class="reference internal" href="#context-placeholders" id="id9">Context placeholders</a></p>
<ul>
<li><p><a class="reference internal" href="#how-to-use-context-placeholer-of-activator" id="id10">How to use context placeholer of activator</a></p></li>
<li><p><a class="reference internal" href="#example-1-using-context-placeholders" id="id11">Example 1. Using context placeholders</a></p></li>
<li><p><a class="reference internal" href="#example-2-personal-profile-menu" id="id12">Example 2. Personal profile menu</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#commands-building" id="id13">Commands building</a></p>
<ul>
<li><p><a class="reference internal" href="#command-format" id="id14">Command format</a></p></li>
<li><p><a class="reference internal" href="#simple-arguments" id="id15">Simple arguments</a></p></li>
<li><p><a class="reference internal" href="#typed-arguments" id="id16">Typed arguments</a></p></li>
<li><p><a class="reference internal" href="#using-regular-placeholders-for-player-argument" id="id17">Using regular placeholders for player argument</a></p></li>
<li><p><a class="reference internal" href="#default-arguments" id="id18">Default arguments</a></p></li>
<li><p><a class="reference internal" href="#final-example-open-profile-menu-by-command" id="id19">Final example. Open profile menu by command</a></p></li>
<li><p><a class="reference internal" href="#command-overriding" id="id20">Command overriding</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#chat-input" id="id21">Chat Input</a></p>
<ul>
<li><p><a class="reference internal" href="#input-cancelling" id="id22">Input Cancelling</a></p></li>
<li><p><a class="reference internal" href="#restrictions" id="id23">Restrictions</a></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<p>This article is about how you can save some user input and use it inside your menus.</p>
<div class="section" id="activator-context">
<span id="input-ctx-main"></span><h2><a class="toc-backref" href="#id8">Activator context</a><a class="headerlink" href="#activator-context" title="Permalink to this headline"></a></h2>
<p>Almost all activators saves own state for each player. We called this state as <code class="docutils literal notranslate"><span class="pre">Context</span></code>. Context is any object such a:</p>
<ul class="simple">
<li><p>Command which player entered</p></li>
<li><p>Block on which player clicked</p></li>
<li><p>Entity or NPC on which player clicked</p></li>
<li><p>WorldGuard region in which player entered</p></li>
<li><p>etc.</p></li>
</ul>
<p>Each newly opened (through activator) menu has own context. AbstractMenus allows to get some values from this context just through placeholders.</p>
</div>
<div class="section" id="context-placeholders">
<span id="input-ctx-placeholder"></span><h2><a class="toc-backref" href="#id9">Context placeholders</a><a class="headerlink" href="#context-placeholders" title="Permalink to this headline"></a></h2>
<p>Access to context’s data via placeholders possible due Value Extractors. More about value extractors you can read in <a class="reference internal" href="../general/placeholders.html#value-extractors"><span class="std std-ref">Value extractors</span></a> topic. Here is just described way <strong>how to use spefic extractor as placeholder</strong>.</p>
<p>Each activator uses one of the predefined extractors to provide placeholders for own context.</p>
<p>To get access to activator context’s placeholders, you can use placeholder in next format:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="n">activator_</span><span class="o">&lt;</span><span class="n">extractor</span> <span class="n">placeholder</span><span class="o">&gt;%</span>
</pre></div>
</div>
<p>Each activator’s placeholder start with <code class="docutils literal notranslate"><span class="pre">activator_</span></code> prefix. The <code class="docutils literal notranslate"><span class="pre">&lt;extractor</span> <span class="pre">placeholder&gt;</span></code> is a placeholder which <a class="reference internal" href="../general/placeholders.html#extractor-block"><span class="std std-ref">defined</span></a> for specific extractor.</p>
<div class="section" id="how-to-use-context-placeholer-of-activator">
<span id="input-how-to"></span><h3><a class="toc-backref" href="#id10">How to use context placeholer of activator</a><a class="headerlink" href="#how-to-use-context-placeholer-of-activator" title="Permalink to this headline"></a></h3>
<p>The algorithm of using context placeholder for activators is simple:</p>
<ol class="arabic simple">
<li><p>Go to <a class="reference internal" href="../general/activators.html"><span class="doc">Activators</span></a> page.</p></li>
<li><p>Find required activator.</p></li>
<li><p>Under each activator you can find extractor which this activator uses. This is a link which refers to table of placeholders of this extractor.</p></li>
</ol>
<div class="figure align-center" id="id1">
<a class="reference internal image-reference" href="../_images/input_extractor_place.png"><img alt="../_images/input_extractor_place.png" src="../_images/input_extractor_place.png" style="width: 429.0px; height: 224.4px;" /></a>
<p class="caption"><span class="caption-text">Extractor type which activator uses</span><a class="headerlink" href="#id1" title="Permalink to this image"></a></p>
</div>
<ol class="arabic simple" start="4">
<li><p>Go to table of placeholders of this extractor.</p></li>
<li><p>Select required placeholder.</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">activator_</span></code> prefix to this placeholder.</p></li>
<li><p>Use the resulting value as a placeholder in your menu.</p></li>
</ol>
</div>
<div class="section" id="example-1-using-context-placeholders">
<h3><a class="toc-backref" href="#id11">Example 1. Using context placeholders</a><a class="headerlink" href="#example-1-using-context-placeholders" title="Permalink to this headline"></a></h3>
<p>For example, let’s say you use <code class="docutils literal notranslate"><span class="pre">clickEntity</span></code> activator:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">activators</span> <span class="p">{</span>
  <span class="n">clickEntity</span> <span class="p">{</span>
    <span class="nb">type</span><span class="p">:</span> <span class="n">SHEEP</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>After you clicked on any sheep entity, you can use context placeholders in rules, actions and item properties. Remember, that we use extractor’s placeholders with this format: <code class="docutils literal notranslate"><span class="pre">%activator_&lt;extractor</span> <span class="pre">placeholder&gt;%</span></code>. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">title</span><span class="p">:</span> <span class="s2">&quot;Sheep menu&quot;</span>
<span class="n">size</span><span class="p">:</span> <span class="mi">1</span>
<span class="n">activators</span> <span class="p">{</span>
  <span class="n">clickEntity</span> <span class="p">{</span>
    <span class="nb">type</span><span class="p">:</span> <span class="n">SHEEP</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="n">items</span><span class="p">:</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="n">slot</span><span class="p">:</span> <span class="mi">0</span>
    <span class="n">material</span><span class="p">:</span> <span class="n">CAKE</span>
    <span class="n">name</span><span class="p">:</span> <span class="s2">&quot;Sheep name: </span><span class="si">%a</span><span class="s2">ctivator_entity_custom_name%&quot;</span>
    <span class="n">click</span> <span class="p">{</span>
      <span class="n">message</span><span class="p">:</span> <span class="s2">&quot;&amp;aCurrent sheep location: </span><span class="si">%a</span><span class="s2">ctivator_entity_loc_x%, </span><span class="si">%a</span><span class="s2">ctivator_entity_loc_y%, </span><span class="si">%a</span><span class="s2">ctivator_entity_loc_z%&quot;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<p>Here we used <code class="docutils literal notranslate"><span class="pre">entity_custom_name</span></code>, <code class="docutils literal notranslate"><span class="pre">entity_loc_x</span></code>, <code class="docutils literal notranslate"><span class="pre">entity_loc_y</span></code> and <code class="docutils literal notranslate"><span class="pre">entity_loc_z</span></code> extractor placeholders, which defined <a class="reference internal" href="../general/placeholders.html#extractor-entity"><span class="std std-ref">in this place</span></a></p>
</div>
<div class="section" id="example-2-personal-profile-menu">
<span id="input-prof-ex"></span><h3><a class="toc-backref" href="#id12">Example 2. Personal profile menu</a><a class="headerlink" href="#example-2-personal-profile-menu" title="Permalink to this headline"></a></h3>
<p>Let’s create some more interesting menu. We want to make profile menu. When player shift-clicks on other player, we want to open menu with clicked player stats. For this we will use <code class="docutils literal notranslate"><span class="pre">shiftClickEntity</span></code> activator.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">title</span><span class="p">:</span> <span class="s2">&quot;&amp;b</span><span class="si">%a</span><span class="s2">ctivator_player_name%&#39;s&#39; profile&quot;</span>
<span class="n">size</span><span class="p">:</span> <span class="mi">1</span>
<span class="n">activators</span> <span class="p">{</span>
  <span class="n">shiftClickEntity</span> <span class="p">{</span>
    <span class="nb">type</span><span class="p">:</span> <span class="n">PLAYER</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="n">items</span><span class="p">:</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="n">slot</span><span class="p">:</span> <span class="mi">4</span>
    <span class="n">skullOwner</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">%a</span><span class="s2">ctivator_player_name%&quot;</span>
    <span class="n">name</span><span class="p">:</span> <span class="s2">&quot;&amp;e</span><span class="si">%a</span><span class="s2">ctivator_player_displayname%&quot;</span>
    <span class="n">lore</span><span class="p">:</span> <span class="p">[</span>
      <span class="s2">&quot;&quot;</span><span class="p">,</span>
      <span class="s2">&quot;&amp;fLevel: </span><span class="si">%a</span><span class="s2">ctivator_player_level%&quot;</span><span class="p">,</span>
      <span class="s2">&quot;&amp;fXP: </span><span class="si">%a</span><span class="s2">ctivator_player_exp%&quot;</span><span class="p">,</span>
      <span class="s2">&quot;&amp;fHealth: </span><span class="si">%a</span><span class="s2">ctivator_player_health%&quot;</span><span class="p">,</span>
      <span class="s2">&quot;&quot;</span><span class="p">,</span>
      <span class="s2">&quot;&amp;aClick, to say hello&quot;</span><span class="p">,</span>
    <span class="p">]</span>
    <span class="n">click</span> <span class="p">{</span>
      <span class="n">command</span> <span class="p">{</span>
        <span class="n">console</span><span class="p">:</span> <span class="s2">&quot;tell </span><span class="si">%a</span><span class="s2">ctivator_player_name% Hello!&quot;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<p>Here, we used placeholder even in menu title, because inventory was created after activator created their context.
We also used PlaceholderAPI placeholders, but with <code class="docutils literal notranslate"><span class="pre">activator_</span></code> prefix. We do this, because we sure that menu will be opened only after click on player (because we set <code class="docutils literal notranslate"><span class="pre">type:</span> <span class="pre">PLAYER</span></code>).</p>
<p>We used regular placeholders, because Entity Extractor can accept them, if entity is player. This and other information about required for you extractor, you can find under each <a class="reference internal" href="../general/placeholders.html#extractor-entity"><span class="std std-ref">extractor’s specification</span></a></p>
<p>Now, if some player will shift-click other player, our menu will be opened:</p>
<div class="figure align-center" id="id2">
<img alt="../_images/input_profile.png" src="../_images/input_profile.png" />
<p class="caption"><span class="caption-text">Player’s profile menu example</span><a class="headerlink" href="#id2" title="Permalink to this image"></a></p>
</div>
<p>More complex examples of context placeholders usage, see in <a class="reference internal" href="../general/examples.html"><span class="doc">Examples</span></a> topic.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>In this example we used PlaceholderAPI with <code class="docutils literal notranslate"><span class="pre">Player</span></code> and <code class="docutils literal notranslate"><span class="pre">Statistic</span></code> expansions.</p>
</div>
</div>
</div>
<div class="section" id="commands-building">
<span id="building-commands"></span><h2><a class="toc-backref" href="#id13">Commands building</a><a class="headerlink" href="#commands-building" title="Permalink to this headline"></a></h2>
<p>AbstractMenus has powerful system to build commands and use entered arguments in menus.</p>
<p>In this topic we will talk about more complex format of the <code class="docutils literal notranslate"><span class="pre">command</span></code> activator with taking arguments.
Other information about this activator you can find in <a class="reference internal" href="../general/activators.html"><span class="doc">Activators</span></a> article.</p>
<div class="section" id="command-format">
<h3><a class="toc-backref" href="#id14">Command format</a><a class="headerlink" href="#command-format" title="Permalink to this headline"></a></h3>
<p>To build command with arguments, you need to make <code class="docutils literal notranslate"><span class="pre">command</span></code> activator as an <a class="reference internal" href="../start/hocon.html#hocon-obj"><span class="std std-ref">Object</span></a>.
This object has several required and optional parameters. Below is full structure of <code class="docutils literal notranslate"><span class="pre">commands</span></code> activator.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 16%" />
<col style="width: 21%" />
<col style="width: 53%" />
<col style="width: 11%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Key</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Note</p></th>
<th class="head"><p>Required</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>name</p></td>
<td><p>String</p></td>
<td><p>Base name of the command</p></td>
<td><p>true</p></td>
</tr>
<tr class="row-odd"><td><p>aliases</p></td>
<td><p>Strings list</p></td>
<td><p>Aliases of base name</p></td>
<td><p>false</p></td>
</tr>
<tr class="row-even"><td><p>error</p></td>
<td><p>String</p></td>
<td><p>Custom error message</p></td>
<td><p>false</p></td>
</tr>
<tr class="row-odd"><td><p>help</p></td>
<td><p>String</p></td>
<td><p>Custom help message prefix</p></td>
<td><p>false</p></td>
</tr>
<tr class="row-even"><td><p>args</p></td>
<td><p>Strings list, Objects list</p></td>
<td><p>Command arguments</p></td>
<td><p>false</p></td>
</tr>
<tr class="row-odd"><td><p>override</p></td>
<td><p>Boolean</p></td>
<td><p>Try to override command from other plugin</p></td>
<td><p>false</p></td>
</tr>
</tbody>
</table>
<p>The <code class="docutils literal notranslate"><span class="pre">error</span></code> field can contain <code class="docutils literal notranslate"><span class="pre">%s</span></code> placeholder to insert error message from specific argument.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">help</span></code> field also can contain <code class="docutils literal notranslate"><span class="pre">%s</span></code> placeholder to insert generated command help based on command structure.</p>
<p>Example of using <code class="docutils literal notranslate"><span class="pre">error</span></code> and <code class="docutils literal notranslate"><span class="pre">help</span></code> fields:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">command</span> <span class="p">{</span>
  <span class="n">name</span><span class="p">:</span> <span class="s2">&quot;mycmd&quot;</span>
  <span class="n">error</span><span class="p">:</span> <span class="s2">&quot;&amp;cInvalid input: </span><span class="si">%s</span><span class="s2">&quot;</span>
  <span class="n">help</span><span class="p">:</span> <span class="s2">&quot;&amp;eCommand structure: </span><span class="si">%s</span><span class="s2">&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">args</span></code> field is a list that can accept one of the two types of arguments: <strong>Simple</strong> or <strong>Typed</strong>.</p>
<p>As described in <a class="reference internal" href="../general/placeholders.html#extractor-cmd"><span class="std std-ref">Command extractor</span></a> topic, <code class="docutils literal notranslate"><span class="pre">commands</span></code> activator uses Command Extractor to get paraed values from entered command. Example of using this extractor you can see in topic below.</p>
</div>
<div class="section" id="simple-arguments">
<h3><a class="toc-backref" href="#id15">Simple arguments</a><a class="headerlink" href="#simple-arguments" title="Permalink to this headline"></a></h3>
<p>Simple arguments is just list of argument keys. Every argument is a string, so user can enter anything. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">command</span> <span class="p">{</span>
  <span class="n">name</span><span class="p">:</span> <span class="s2">&quot;mycmd&quot;</span>
  <span class="n">args</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&quot;myarg1&quot;</span><span class="p">,</span> <span class="s2">&quot;myarg2&quot;</span> <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>After reloading, AbstractMenus will expect that player will enter command in format:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/</span><span class="n">mycmd</span> <span class="o">&lt;</span><span class="n">myarg1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">myarg2</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>When player entered command and all arguments specified, menu will be opened. Otherwise player receives error message.</p>
<p>To get values which player entered, you need to use context placeholders, as described <a class="reference internal" href="#input-ctx-placeholder"><span class="std std-ref">above</span></a>. Just see which placehodlers provides <a class="reference internal" href="../general/placeholders.html#extractor-cmd"><span class="std std-ref">Command extractor</span></a> and add <code class="docutils literal notranslate"><span class="pre">activator_</span></code> prefix in begin. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">message</span><span class="p">:</span> <span class="s2">&quot;You entered </span><span class="si">%a</span><span class="s2">ctivator_cmd_arg_myarg1</span><span class="si">% a</span><span class="s2">nd </span><span class="si">%a</span><span class="s2">ctivator_cmd_arg_myarg2%&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="typed-arguments">
<h3><a class="toc-backref" href="#id16">Typed arguments</a><a class="headerlink" href="#typed-arguments" title="Permalink to this headline"></a></h3>
<p>Typed arguments allows you to expect players to enter arguments of a certain type. If player entered something wrong, he will get error message.</p>
<p>There are several types of arguments.</p>
<dl class="field-list simple">
<dt class="field-odd">string</dt>
<dd class="field-odd"><p>Simple string argument. Player can enter anything, without space symbol.</p>
</dd>
<dt class="field-even">number</dt>
<dd class="field-even"><p>Any number: float or integer. Fails if number cannot be parsed from user input.</p>
</dd>
<dt class="field-odd">integer</dt>
<dd class="field-odd"><p>Integers only. Fails if number cannot be parsed to integer from user input.</p>
</dd>
<dt class="field-even">player</dt>
<dd class="field-even"><p>Online player name. Will suggest all players on tab complete, and fails if player not found.</p>
</dd>
<dt class="field-odd">choice</dt>
<dd class="field-odd"><p>Predefined string options. Will be suggested on tab complete. Player must select one of the suggested options.</p>
</dd>
</dl>
<p>Each typed argument is an object with parameters. All they has general fields which described below:</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 16%" />
<col style="width: 21%" />
<col style="width: 53%" />
<col style="width: 11%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Key</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Note</p></th>
<th class="head"><p>Required</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>key</p></td>
<td><p>String</p></td>
<td><p>Unique argument name, which you will use in placehodlers</p></td>
<td><p>true</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td><p>String</p></td>
<td><p>Argument type. See all types above</p></td>
<td><p>true</p></td>
</tr>
<tr class="row-even"><td><p>error</p></td>
<td><p>String</p></td>
<td><p>Custom error message</p></td>
<td><p>false</p></td>
</tr>
<tr class="row-odd"><td><p>default</p></td>
<td><p>String</p></td>
<td><p>Default value of argument. Makes argument optional</p></td>
<td><p>false</p></td>
</tr>
</tbody>
</table>
<div class="section" id="example-1-number-argument">
<h4>Example 1. Number argument<a class="headerlink" href="#example-1-number-argument" title="Permalink to this headline"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">command</span> <span class="p">{</span>
  <span class="n">name</span><span class="p">:</span> <span class="s2">&quot;mycmd&quot;</span>
  <span class="n">args</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="n">key</span><span class="p">:</span> <span class="s2">&quot;amount&quot;</span>
      <span class="nb">type</span><span class="p">:</span> <span class="n">number</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Then to get value from this argument, we will use this placeholder:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">message</span><span class="p">:</span> <span class="s2">&quot;&amp;eAmount: </span><span class="si">%a</span><span class="s2">ctivator_cmd_arg_amount%&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="example-2-choice-argument">
<h4>Example 2. Choice argument<a class="headerlink" href="#example-2-choice-argument" title="Permalink to this headline"></a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">choice</span></code> argument type required one additional field: <code class="docutils literal notranslate"><span class="pre">options</span></code>. This is a list of strings. Each element is an option.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">command</span> <span class="p">{</span>
  <span class="n">name</span><span class="p">:</span> <span class="s2">&quot;mycmd&quot;</span>
  <span class="n">args</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="n">key</span><span class="p">:</span> <span class="s2">&quot;variant&quot;</span>
      <span class="nb">type</span><span class="p">:</span> <span class="n">choice</span>
      <span class="n">options</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;opt1&quot;</span><span class="p">,</span> <span class="s2">&quot;opt2&quot;</span><span class="p">,</span> <span class="s2">&quot;opt3&quot;</span><span class="p">]</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Then to get selected option from this argument, we will use this placeholder:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">message</span><span class="p">:</span> <span class="s2">&quot;&amp;eSelected </span><span class="si">%a</span><span class="s2">ctivator_cmd_arg_variant%&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="example-3-player-argument">
<h4>Example 3. Player argument<a class="headerlink" href="#example-3-player-argument" title="Permalink to this headline"></a></h4>
<p>Player argument takes only online player name and suggest these names on tab complete.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">command</span> <span class="p">{</span>
  <span class="n">name</span><span class="p">:</span> <span class="s2">&quot;mycmd&quot;</span>
  <span class="n">args</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="n">key</span><span class="p">:</span> <span class="s2">&quot;username&quot;</span>
      <span class="nb">type</span><span class="p">:</span> <span class="n">player</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Then to get name of player from this argument, we will use this placeholder:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">message</span><span class="p">:</span> <span class="s2">&quot;&amp;ePlayer: </span><span class="si">%a</span><span class="s2">ctivator_cmd_arg_username%&quot;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="using-regular-placeholders-for-player-argument">
<h3><a class="toc-backref" href="#id17">Using regular placeholders for player argument</a><a class="headerlink" href="#using-regular-placeholders-for-player-argument" title="Permalink to this headline"></a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">player</span></code> argument has one cool feature. In cases when you use <code class="docutils literal notranslate"><span class="pre">player</span></code> argument,
AbstractMenus saves entered player and provides access to their regular placeholders. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">command</span> <span class="p">{</span>
  <span class="n">name</span><span class="p">:</span> <span class="s2">&quot;mycmd&quot;</span>
  <span class="n">args</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="n">key</span><span class="p">:</span> <span class="s2">&quot;player1&quot;</span>
      <span class="nb">type</span><span class="p">:</span> <span class="n">player</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="n">key</span><span class="p">:</span> <span class="s2">&quot;player2&quot;</span>
      <span class="nb">type</span><span class="p">:</span> <span class="n">player</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>For example, we need to get level of these two players. Command extractor gives access to this and other placeholders. Following extractor’s placeholder format (<code class="docutils literal notranslate"><span class="pre">&lt;key&gt;:&lt;placeholder&gt;</span></code>), which described in <a class="reference internal" href="../general/placeholders.html#extractor-cmd"><span class="std std-ref">Command extractor</span></a> topic, we need to specify two parameters: argument’s key and placeholder which we want to use. We want to use <code class="docutils literal notranslate"><span class="pre">player_level</span></code> placeholder, so our final placeholder will looks like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="n">activator_player1</span><span class="p">:</span><span class="n">player_level</span><span class="o">%</span>
<span class="ow">and</span>
<span class="o">%</span><span class="n">activator_player2</span><span class="p">:</span><span class="n">player_level</span><span class="o">%</span>
</pre></div>
</div>
</div>
<div class="section" id="default-arguments">
<h3><a class="toc-backref" href="#id18">Default arguments</a><a class="headerlink" href="#default-arguments" title="Permalink to this headline"></a></h3>
<p>Let’s talk more about <code class="docutils literal notranslate"><span class="pre">default</span></code> argument’s field. In some cases you need to make some argument optional. For example, you want to make profile menu. If player entered username, then profile of other player will be opened. If no, then will be opened profile of player who entered command.</p>
<p>For logic like this, you can add default value to some argument. You can use regular placeholders in default values. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">command</span> <span class="p">{</span>
  <span class="n">name</span><span class="p">:</span> <span class="s2">&quot;profile&quot;</span>
  <span class="n">args</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="n">key</span><span class="p">:</span> <span class="s2">&quot;user&quot;</span>
      <span class="nb">type</span><span class="p">:</span> <span class="n">player</span>
      <span class="n">default</span><span class="p">:</span> <span class="s2">&quot;%player_name%&quot;</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>If player enter <code class="docutils literal notranslate"><span class="pre">/profile</span></code>, then <code class="docutils literal notranslate"><span class="pre">user</span></code> argument will be equal name of player who entered command.</p>
<p>If player enter <code class="docutils literal notranslate"><span class="pre">/profile</span> <span class="pre">Notch</span></code>, then <code class="docutils literal notranslate"><span class="pre">user</span></code> will be <code class="docutils literal notranslate"><span class="pre">Notch</span></code>.</p>
<p>Currently, AbstractMenus has some resctiction for optional arguments. You can make only one optional argument and put it only in the end of arguments list. This due arguments parsing algorithm, which can’t know which argument you entered, if there are more than one optional argument.</p>
</div>
<div class="section" id="final-example-open-profile-menu-by-command">
<h3><a class="toc-backref" href="#id19">Final example. Open profile menu by command</a><a class="headerlink" href="#final-example-open-profile-menu-by-command" title="Permalink to this headline"></a></h3>
<p>Let’s modify our example, which we made <a class="reference internal" href="#input-prof-ex"><span class="std std-ref">before</span></a>. We will replace <code class="docutils literal notranslate"><span class="pre">shiftClickEntity</span></code> activator to <code class="docutils literal notranslate"><span class="pre">command</span></code> and make command take player name:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">title</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">%a</span><span class="s2">ctivator_user:player_name%&#39;s profile&quot;</span>
<span class="n">size</span><span class="p">:</span> <span class="mi">1</span>
<span class="n">activators</span> <span class="p">{</span>
  <span class="n">command</span> <span class="p">{</span>
    <span class="n">name</span><span class="p">:</span> <span class="s2">&quot;profile&quot;</span>
    <span class="n">args</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="n">key</span><span class="p">:</span> <span class="s2">&quot;user&quot;</span>
        <span class="nb">type</span><span class="p">:</span> <span class="n">player</span>
        <span class="n">default</span><span class="p">:</span> <span class="s2">&quot;%player_name%&quot;</span>
      <span class="p">}</span>
    <span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="n">items</span><span class="p">:</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="n">slot</span><span class="p">:</span> <span class="mi">4</span>
    <span class="n">skullOwner</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">%a</span><span class="s2">ctivator_user:player_name%&quot;</span>
    <span class="n">name</span><span class="p">:</span> <span class="s2">&quot;&amp;e</span><span class="si">%a</span><span class="s2">ctivator_user:player_displayname%&quot;</span>
    <span class="n">lore</span><span class="p">:</span> <span class="p">[</span>
      <span class="s2">&quot;&quot;</span><span class="p">,</span>
      <span class="s2">&quot;&amp;fLevel: </span><span class="si">%a</span><span class="s2">ctivator_user:player_level%&quot;</span><span class="p">,</span>
      <span class="s2">&quot;&amp;fKills: </span><span class="si">%a</span><span class="s2">ctivator_user:statistic_mob_kills%&quot;</span><span class="p">,</span>
      <span class="s2">&quot;&amp;fDeaths: </span><span class="si">%a</span><span class="s2">ctivator_user:statistic_deaths%&quot;</span><span class="p">,</span>
      <span class="s2">&quot;&quot;</span><span class="p">,</span>
      <span class="s2">&quot;&amp;aClick, to say hello&quot;</span><span class="p">,</span>
    <span class="p">]</span>
    <span class="n">click</span> <span class="p">{</span>
      <span class="n">command</span> <span class="p">{</span>
        <span class="n">console</span><span class="p">:</span> <span class="s2">&quot;tell </span><span class="si">%a</span><span class="s2">ctivator_user:player_name% Hello!&quot;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<p>We also changed placeholders to fit format, described for Command Extractor. Result you can see below.</p>
<div class="figure align-center" id="id3">
<img alt="../_images/input_example.gif" src="../_images/input_example.gif" />
<p class="caption"><span class="caption-text">How commands work</span><a class="headerlink" href="#id3" title="Permalink to this image"></a></p>
</div>
</div>
<div class="section" id="command-overriding">
<h3><a class="toc-backref" href="#id20">Command overriding</a><a class="headerlink" href="#command-overriding" title="Permalink to this headline"></a></h3>
<p>Sometimes we need to override command from other plugin.
For example, you have third-party plugin with <code class="docutils literal notranslate"><span class="pre">/kit</span></code> command.</p>
<p>Suppose we want to create menu which will be opened by the same command and will show list of available kits.
By default, AbstractMenus register command by regular way. This means that any menu command may be overwritten by other plugins.</p>
<p>To override plugin command, you can add <code class="docutils literal notranslate"><span class="pre">override:</span> <span class="pre">true</span></code> parameter to the command activator body. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">activators</span> <span class="p">{</span>
  <span class="n">command</span> <span class="p">{</span>
    <span class="n">name</span><span class="p">:</span> <span class="s2">&quot;kit&quot;</span>
    <span class="n">aliases</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;kits&quot;</span><span class="p">]</span>
    <span class="n">override</span><span class="p">:</span> <span class="n">true</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Command with <code class="docutils literal notranslate"><span class="pre">override:</span> <span class="pre">true</span></code>, will be registered as chat listener, not only as regular command.
This will allow to “override” third-party plugin command, even if AbstarctMenus loaded after this plugin.</p>
<p>When user enter such command, plugin performs it as regular command and cancel next message handling to avoid performing this command by the real “command owner”.</p>
</div>
</div>
<div class="section" id="chat-input">
<span id="input-chat"></span><h2><a class="toc-backref" href="#id21">Chat Input</a><a class="headerlink" href="#chat-input" title="Permalink to this headline"></a></h2>
<p>Action <code class="docutils literal notranslate"><span class="pre">inputChat</span></code> allows you to request some text input to player.
Below is the structure of this action.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 16%" />
<col style="width: 21%" />
<col style="width: 53%" />
<col style="width: 11%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Note</p></th>
<th class="head"><p>Required</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>into</p></td>
<td><p>String</p></td>
<td><p>Name of variable in which data will be saved</p></td>
<td><p>true</p></td>
</tr>
<tr class="row-odd"><td><p>global</p></td>
<td><p>Boolean</p></td>
<td><p>If <code class="docutils literal notranslate"><span class="pre">true</span></code>, data will be saved in the global variable. By default is <code class="docutils literal notranslate"><span class="pre">false</span></code></p></td>
<td><p>false</p></td>
</tr>
<tr class="row-even"><td><p>cancelOn</p></td>
<td><p>String</p></td>
<td><p>A ‘stop word’ or phrase that will cancel waiting for input. If input cancelled, actions inside <code class="docutils literal notranslate"><span class="pre">onCancel</span></code> will be executed instead of <code class="docutils literal notranslate"><span class="pre">onInput</span></code></p></td>
<td><p>false</p></td>
</tr>
<tr class="row-odd"><td><p>onInput</p></td>
<td><p>Object</p></td>
<td><p>Actions for completed input</p></td>
<td><p>false</p></td>
</tr>
<tr class="row-even"><td><p>onCancel</p></td>
<td><p>Object</p></td>
<td><p>Actions for cancelled by stop word input</p></td>
<td><p>false</p></td>
</tr>
</tbody>
</table>
<p>The only required paramater is a <code class="docutils literal notranslate"><span class="pre">into</span></code>. This is the name of <a class="reference internal" href="../general/variables.html"><span class="doc">variable</span></a>.
When player enter a text in the chat, plugin save this text into variable with specified name.
After this, you can get value if this variable anywhere through <a class="reference internal" href="../general/variables.html#vars-access"><span class="std std-ref">variable placeholder</span></a>.</p>
<p>Basic example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">slot</span><span class="p">:</span> <span class="mi">0</span>
<span class="n">material</span><span class="p">:</span> <span class="n">STONE</span>
<span class="n">click</span> <span class="p">{</span>
  <span class="n">message</span><span class="p">:</span> <span class="s2">&quot;Enter player name&quot;</span>
  <span class="n">inputChat</span> <span class="p">{</span>
    <span class="n">into</span><span class="p">:</span> <span class="s2">&quot;input_username&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>If player clicked on this item, menu will be closed with message.
After this, player must write something in chat.</p>
<p>If you want to perform some action, after text entered, you need to use <code class="docutils literal notranslate"><span class="pre">onInput</span></code> actions block. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">slot</span><span class="p">:</span> <span class="mi">0</span>
<span class="n">material</span><span class="p">:</span> <span class="n">STONE</span>
<span class="n">click</span> <span class="p">{</span>
  <span class="n">message</span><span class="p">:</span> <span class="s2">&quot;Enter player name&quot;</span>
  <span class="n">inputChat</span> <span class="p">{</span>
    <span class="n">into</span><span class="p">:</span> <span class="s2">&quot;input_username&quot;</span>
    <span class="n">onInput</span> <span class="p">{</span>
      <span class="n">command</span><span class="p">:</span> <span class="p">{</span>
        <span class="n">console</span><span class="p">:</span> <span class="s2">&quot;say Hello, %varp_:input_username%!&quot;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Result:</p>
<div class="figure align-default" id="id4">
<img alt="../_images/input_chat_1.png" src="../_images/input_chat_1.png" />
<p class="caption"><span class="caption-text">Waiting for input</span><a class="headerlink" href="#id4" title="Permalink to this image"></a></p>
</div>
<p>Here, when player entered something in the chat, all players will
see <code class="docutils literal notranslate"><span class="pre">Hello,</span> <span class="pre">&lt;text&gt;!</span></code> where <code class="docutils literal notranslate"><span class="pre">&lt;text&gt;</span></code> is a text, entered by player.</p>
<div class="figure align-default" id="id5">
<img alt="../_images/input_chat_2.png" src="../_images/input_chat_2.png" />
<p class="caption"><span class="caption-text">Input completed</span><a class="headerlink" href="#id5" title="Permalink to this image"></a></p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>After performing <code class="docutils literal notranslate"><span class="pre">inputChat</span></code>, menu will be closed automatically. <strong>Do not</strong> close it manually by <code class="docutils literal notranslate"><span class="pre">closeMenu</span></code> action.</p>
</div>
<div class="section" id="input-cancelling">
<h3><a class="toc-backref" href="#id22">Input Cancelling</a><a class="headerlink" href="#input-cancelling" title="Permalink to this headline"></a></h3>
<p>If you want to add ability to cancel text input, you can add <code class="docutils literal notranslate"><span class="pre">cancelOn</span></code> parameter to the action.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">slot</span><span class="p">:</span> <span class="mi">0</span>
<span class="n">material</span><span class="p">:</span> <span class="n">STONE</span>
<span class="n">click</span> <span class="p">{</span>
  <span class="n">message</span><span class="p">:</span> <span class="s2">&quot;Enter player name&quot;</span>
  <span class="n">inputChat</span> <span class="p">{</span>
    <span class="n">into</span><span class="p">:</span> <span class="s2">&quot;input_username&quot;</span>
    <span class="n">cancelOn</span><span class="p">:</span> <span class="s2">&quot;cancel&quot;</span>
    <span class="n">onInput</span> <span class="p">{</span>
      <span class="n">command</span><span class="p">:</span> <span class="p">{</span>
        <span class="n">console</span><span class="p">:</span> <span class="s2">&quot;say Hello, %varp_:input_username%&quot;</span>
      <span class="p">}</span>
    <span class="p">}</span>
    <span class="n">onCancel</span> <span class="p">{</span>
      <span class="n">message</span><span class="p">:</span> <span class="s2">&quot;Ok, do not write anything&quot;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Here we also added <code class="docutils literal notranslate"><span class="pre">onCancel</span></code> block to send message to player if input cancelled.
If player entered <code class="docutils literal notranslate"><span class="pre">cancel</span></code> in the chat, plugin will not wait for input anymore, and performs action inside <code class="docutils literal notranslate"><span class="pre">onCancel</span></code> if it specified.</p>
<div class="figure align-default" id="id6">
<img alt="../_images/input_chat_3.png" src="../_images/input_chat_3.png" />
<p class="caption"><span class="caption-text">Input cancelled by stop-word</span><a class="headerlink" href="#id6" title="Permalink to this image"></a></p>
</div>
</div>
<div class="section" id="restrictions">
<h3><a class="toc-backref" href="#id23">Restrictions</a><a class="headerlink" href="#restrictions" title="Permalink to this headline"></a></h3>
<p>Note, that not all stuff, that available in menu, allowed inside <code class="docutils literal notranslate"><span class="pre">onInput</span></code> and <code class="docutils literal notranslate"><span class="pre">onCancel</span></code> blocks.</p>
<p>Since menu is closed while waiting for input, you can only use actions which are not interacts with menu inventory.
<strong>Do not use</strong> actions like <code class="docutils literal notranslate"><span class="pre">refreshMenu</span></code>, <code class="docutils literal notranslate"><span class="pre">closeMenu</span></code>, <code class="docutils literal notranslate"><span class="pre">openMenu</span></code>, etc.</p>
<p>Context placeholder also won’t work inside these action blocks.
This is not possible due menu lifecycle, so you can use only common placeholders and variables.</p>
</div>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="logical.html" class="btn btn-neutral float-left" title="Logical structures" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="templates.html" class="btn btn-neutral float-right" title="Templates" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Nanit.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>