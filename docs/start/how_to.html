

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>How to create menu &mdash; AbstractMenus  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/overrides.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="HOCON format" href="hocon.html" />
    <link rel="prev" title="AbstractMenus Wiki" href="../index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #8261BC" >
          

          
            <a href="../index.html" class="icon icon-home"> AbstractMenus
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">How to create menu</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#create-a-header">Create a header</a></li>
<li class="toctree-l2"><a class="reference internal" href="#add-an-activator">Add an activator</a></li>
<li class="toctree-l2"><a class="reference internal" href="#add-a-button">Add a button</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#add-actions-to-button">Add actions to button</a></li>
<li class="toctree-l3"><a class="reference internal" href="#add-rules-to-display-a-button">Add rules to display a button</a></li>
<li class="toctree-l3"><a class="reference internal" href="#add-actions-for-button-click">Add actions for button click</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#add-a-rule-for-menu-opening">Add a rule for menu opening</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="hocon.html">HOCON format</a></li>
</ul>
<p class="caption"><span class="caption-text">General Features</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../general/menu_structure.html">Menu structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general/item_format.html">Item format</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general/activators.html">Activators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general/actions.html">Actions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general/rules.html">Rules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general/variables.html">Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general/text_colors.html">Colorizing text</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general/placeholders.html">Placeholders</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general/examples.html">Examples</a></li>
</ul>
<p class="caption"><span class="caption-text">Advanced Features</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../advanced/logical.html">Logical structures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../advanced/templates.html">Templates</a></li>
<li class="toctree-l1"><a class="reference internal" href="../advanced/animations.html">Animations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../advanced/generation.html">Menu generator</a></li>
</ul>
<p class="caption"><span class="caption-text">For Developers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dev/api.html">Developers API</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">AbstractMenus</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>How to create menu</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="how-to-create-menu">
<h1><a class="toc-backref" href="#id3">How to create menu</a><a class="headerlink" href="#how-to-create-menu" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#how-to-create-menu" id="id3">How to create menu</a></p>
<ul>
<li><p><a class="reference internal" href="#create-a-header" id="id4">Create a header</a></p></li>
<li><p><a class="reference internal" href="#add-an-activator" id="id5">Add an activator</a></p></li>
<li><p><a class="reference internal" href="#add-a-button" id="id6">Add a button</a></p>
<ul>
<li><p><a class="reference internal" href="#add-actions-to-button" id="id7">Add actions to button</a></p></li>
<li><p><a class="reference internal" href="#add-rules-to-display-a-button" id="id8">Add rules to display a button</a></p></li>
<li><p><a class="reference internal" href="#add-actions-for-button-click" id="id9">Add actions for button click</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#add-a-rule-for-menu-opening" id="id10">Add a rule for menu opening</a></p></li>
</ul>
</li>
</ul>
</div>
<p>In this brief tour of some plugin features, you will learn how to create simple menus using the AbstractMenus plugin.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Many peoples have problems with menu writing through bad and not smart text editor. We recommend to use the <a class="reference external" href="https://www.sublimetext.com">Sublime Text</a> or any other smart text editor to convenient edit menu files. This will greatly facilitate your work with the configuration in the HOCON format. Optionally, you could install <a class="reference external" href="https://packagecontrol.io/packages/HOCON%20Syntax%20Highlighting">plugin for HOCON syntax highlighting</a>.</p>
</div>
<div class="section" id="create-a-header">
<h2><a class="toc-backref" href="#id4">Create a header</a><a class="headerlink" href="#create-a-header" title="Permalink to this headline">¶</a></h2>
<p>Each menu is a file with <code class="docutils literal notranslate"><span class="pre">.conf</span></code> extension. All menu files must be located in the <code class="docutils literal notranslate"><span class="pre">plugins/AbstractMenus/menus</span></code> folder. When you run plugin first time, this folder will be created automatically. This folder will also contain the simple menu in <code class="docutils literal notranslate"><span class="pre">menu.conf</span></code> file.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You could create additional folders in the <code class="docutils literal notranslate"><span class="pre">plugins/AbstractMenus/menus</span></code> folder and put menu files in them. No matter how many folders are nested, the plugin will find and load all menus from them. This will allow you to sort related menus.</p>
</div>
<p>To create your first menu, create a file with any name but <code class="docutils literal notranslate"><span class="pre">.conf</span></code> extension. Note that file name is an unique name of your menu. In our case this is <code class="docutils literal notranslate"><span class="pre">menu.conf</span></code>, so menu name is just <code class="docutils literal notranslate"><span class="pre">menu</span></code>. To create a menu header, you need to specify only two parameters - <code class="docutils literal notranslate"><span class="pre">title</span></code> and <code class="docutils literal notranslate"><span class="pre">size</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">title</span><span class="p">:</span> <span class="s2">&quot;My first menu&quot;</span>
<span class="n">size</span><span class="p">:</span> <span class="mi">6</span>
</pre></div>
</div>
<p>These two parameters mean the following:</p>
<dl class="field-list simple">
<dt class="field-odd">title</dt>
<dd class="field-odd"><p>Menu title.</p>
</dd>
<dt class="field-even">size</dt>
<dd class="field-even"><p>The number of inventory rows. The horizontal size cannot be changed without mods, so it’s ignored.</p>
</dd>
</dl>
<p>This is the base header of any menu. If you reload the plugin using the <code class="docutils literal notranslate"><span class="pre">/am</span> <span class="pre">reload</span></code> command, you will see message like that:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">AbstractMenus</span><span class="p">]</span> <span class="n">Loaded</span> <span class="mi">1</span> <span class="n">menus</span>
</pre></div>
</div>
<p>Now menu cannot be opened without a special administrator command. To allow players to open the menu, you need to add an activator for this menu.</p>
</div>
<div class="section" id="add-an-activator">
<h2><a class="toc-backref" href="#id5">Add an activator</a><a class="headerlink" href="#add-an-activator" title="Permalink to this headline">¶</a></h2>
<p>An activator is an event that must happen to open menu. To add an activator, you need specify the <code class="docutils literal notranslate"><span class="pre">activators</span></code> block in the menu root.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">title</span><span class="p">:</span> <span class="s2">&quot;My first menu&quot;</span>
<span class="n">size</span><span class="p">:</span> <span class="mi">6</span>
<span class="n">activators</span> <span class="p">{</span> <span class="o">//</span> <span class="n">Activators</span> <span class="n">block</span>

<span class="p">}</span>
</pre></div>
</div>
<p>Now this block is empty. We will use some kind of activator from the list of activators. For example we will use the <code class="docutils literal notranslate"><span class="pre">command</span></code> activator. Add it to the <code class="docutils literal notranslate"><span class="pre">activators</span></code> block, as shown below.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">title</span><span class="p">:</span> <span class="s2">&quot;My first menu&quot;</span>
<span class="n">size</span><span class="p">:</span> <span class="mi">6</span>
<span class="n">activators</span> <span class="p">{</span>
  <span class="n">command</span><span class="p">:</span> <span class="s2">&quot;mymenu&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>After plugin reloading (<code class="docutils literal notranslate"><span class="pre">/am</span> <span class="pre">reload</span></code>), try to enter the <code class="docutils literal notranslate"><span class="pre">/mymenu</span></code> command in the chat. You will see an empty menu with a given size and <strong>My first menu</strong> title.</p>
<div class="figure align-center" id="id1">
<img alt="../_images/howto_empty.png" src="../_images/howto_empty.png" />
<p class="caption"><span class="caption-text">Empty menu we created</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
<p>If all works for you, that’s great! Now we have an empty menu that does nothing. Let’s add some simple functionality.</p>
</div>
<div class="section" id="add-a-button">
<h2><a class="toc-backref" href="#id6">Add a button</a><a class="headerlink" href="#add-a-button" title="Permalink to this headline">¶</a></h2>
<p>A button is just an item, placed in the menu’s inventory. You can learn about all features of the buttons on <a class="reference internal" href="../general/item_format.html"><span class="doc">Item format</span></a> page. In this lesson we will just show the simplest buttons usage.</p>
<p>So, to add buttons, we need to add a special list of the menu items (buttons).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">title</span><span class="p">:</span> <span class="s2">&quot;My first menu&quot;</span>
<span class="n">size</span><span class="p">:</span> <span class="mi">6</span>
<span class="n">activators</span> <span class="p">{</span>
  <span class="n">command</span><span class="p">:</span> <span class="s2">&quot;mymenu&quot;</span>
<span class="p">}</span>
<span class="n">items</span><span class="p">:</span> <span class="p">[]</span> <span class="o">//</span> <span class="n">List</span> <span class="n">of</span> <span class="n">menu</span> <span class="n">buttons</span>
</pre></div>
</div>
<p>Now our list is empty. Let’s add the first button. Suppose we want to add a diamond sword with some name. To do this, add a new object to the list. This is our item.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">title</span><span class="p">:</span> <span class="s2">&quot;My first menu&quot;</span>
<span class="n">size</span><span class="p">:</span> <span class="mi">6</span>
<span class="n">activators</span> <span class="p">{</span>
  <span class="n">command</span><span class="p">:</span> <span class="s2">&quot;mymenu&quot;</span>
<span class="p">}</span>
<span class="n">items</span><span class="p">:</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="n">slot</span><span class="p">:</span> <span class="mi">0</span>
    <span class="n">material</span><span class="p">:</span> <span class="n">DIAMOND_SWORD</span>
    <span class="n">name</span><span class="p">:</span> <span class="s2">&quot;&amp;6Excalibur&quot;</span>
  <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<p>So we’ve added a new button in our menu. We’ll briefly describe the parameters used in this item. For a detailed description of items, visit <a class="reference internal" href="../general/item_format.html"><span class="doc">Item format</span></a> page.</p>
<dl class="field-list simple">
<dt class="field-odd">slot</dt>
<dd class="field-odd"><p>Button position, specified by the ordinal number of the inventory cell. You can learn about other ways to specify a slot [here] (Item format#slot).</p>
</dd>
<dt class="field-even">material</dt>
<dd class="field-even"><p>Id of the item. On Spigot <code class="docutils literal notranslate"><span class="pre">1.13+</span></code> only materials by name supported. You can find them <a class="reference external" href="https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/Material.html">here</a>. Numeric ids only works on Spigot <code class="docutils literal notranslate"><span class="pre">1.12.2</span></code> and lower.</p>
</dd>
<dt class="field-odd">name</dt>
<dd class="field-odd"><p>Display name of the item. As other string values, it supports color codes, placeholders, etc.</p>
</dd>
</dl>
<p>Okay, we have a button. If you reload the plugin and open the menu, you will see the created button inside.</p>
<div class="figure align-center" id="id2">
<img alt="../_images/howto_excalibur.png" src="../_images/howto_excalibur.png" />
<p class="caption"><span class="caption-text">Menu with button we created</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</div>
<p>Now it does nothing if we click it. Let’s add some action for our button.</p>
<div class="section" id="add-actions-to-button">
<h3><a class="toc-backref" href="#id7">Add actions to button</a><a class="headerlink" href="#add-actions-to-button" title="Permalink to this headline">¶</a></h3>
<p>To make our button perform some action, there is special <code class="docutils literal notranslate"><span class="pre">click</span></code> block for buttons. Now we will show its simplest use. More details about button click processing written on <a class="reference internal" href="../general/menu_structure.html"><span class="doc">Menu structure</span></a> page.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">title</span><span class="p">:</span> <span class="s2">&quot;My first menu&quot;</span>
<span class="n">size</span><span class="p">:</span> <span class="mi">6</span>
<span class="n">activators</span> <span class="p">{</span>
  <span class="n">command</span><span class="p">:</span> <span class="s2">&quot;mymenu&quot;</span>
<span class="p">}</span>
<span class="n">items</span><span class="p">:</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="n">slot</span><span class="p">:</span> <span class="mi">0</span>
    <span class="n">material</span><span class="p">:</span> <span class="n">DIAMOND_SWORD</span>
    <span class="n">name</span><span class="p">:</span> <span class="s2">&quot;&amp;6Excalibur&quot;</span>
    <span class="n">click</span> <span class="p">{</span>
      <span class="n">closeMenu</span><span class="p">:</span> <span class="n">true</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">click</span></code> block is an actions block. We’ve added one simple <code class="docutils literal notranslate"><span class="pre">closeMenu</span></code> action that just closes the menu. This action will work for any type of click on the button. If you want to add different actions for different types of click, you could add them. All types of clicks are described on <a class="reference internal" href="../general/menu_structure.html"><span class="doc">Menu structure</span></a> page.</p>
</div>
<div class="section" id="add-rules-to-display-a-button">
<h3><a class="toc-backref" href="#id8">Add rules to display a button</a><a class="headerlink" href="#add-rules-to-display-a-button" title="Permalink to this headline">¶</a></h3>
<p>You can add the display rules for any button. If player who opened the menu match the rules, the button will be showed in inventory. Otherwise, it will be ignored. Suppose we want our excalibur to look different for different players. It will depend on the player’s level. Then our menu file will looks like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">title</span><span class="p">:</span> <span class="s2">&quot;My first menu&quot;</span>
<span class="n">size</span><span class="p">:</span> <span class="mi">6</span>
<span class="n">activators</span> <span class="p">{</span>
  <span class="n">command</span><span class="p">:</span> <span class="s2">&quot;mymenu&quot;</span>
<span class="p">}</span>
<span class="n">items</span><span class="p">:</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="n">slot</span><span class="p">:</span> <span class="mi">0</span>
    <span class="n">material</span><span class="p">:</span> <span class="n">IRON_SWORD</span>
    <span class="n">name</span><span class="p">:</span> <span class="s2">&quot;&amp;6Excalibur&quot;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="n">slot</span><span class="p">:</span> <span class="mi">0</span>
    <span class="n">material</span><span class="p">:</span> <span class="n">DIAMOND_SWORD</span>
    <span class="n">name</span><span class="p">:</span> <span class="s2">&quot;&amp;6Excalibur&quot;</span>
    <span class="n">rules</span> <span class="p">{</span>
      <span class="n">level</span><span class="p">:</span> <span class="mi">10</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<p>Now there are two buttons was added in <code class="docutils literal notranslate"><span class="pre">items</span></code> list. The first will display always. The second one will only if the player’s level greater than or equal to 10. We specified <code class="docutils literal notranslate"><span class="pre">level</span></code> rule in the special <code class="docutils literal notranslate"><span class="pre">rules</span></code> block. If the button has a <code class="docutils literal notranslate"><span class="pre">rules</span></code> block, before opening the menu the player will be checked for compliance with the specified rules first.</p>
<p>In our case, if player have level 9 or lower, he will see only an iron sword in slot 0. If a player with a level 10 or higher, he will see only a diamond sword, since the previous item in the slot 0 will be replaced with a new.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If several items in the list has same slot, the player will see the last one, the rules of which he matches.</p>
</div>
</div>
<div class="section" id="add-actions-for-button-click">
<h3><a class="toc-backref" href="#id9">Add actions for button click</a><a class="headerlink" href="#add-actions-for-button-click" title="Permalink to this headline">¶</a></h3>
<p>Rules can be used at the time of clicking on the button. Suppose we want to sell our sword. Then we can add the following code:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">title</span><span class="p">:</span> <span class="s2">&quot;My first menu&quot;</span>
<span class="n">size</span><span class="p">:</span> <span class="mi">6</span>
<span class="n">activators</span> <span class="p">{</span>
  <span class="n">command</span><span class="p">:</span> <span class="s2">&quot;mymenu&quot;</span>
<span class="p">}</span>
<span class="n">items</span><span class="p">:</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="n">slot</span><span class="p">:</span> <span class="mi">0</span>
    <span class="n">material</span><span class="p">:</span> <span class="n">DIAMOND_SWORD</span>
    <span class="n">name</span><span class="p">:</span> <span class="s2">&quot;&amp;6Excalibur&quot;</span>
    <span class="n">lore</span><span class="p">:</span> <span class="s2">&quot;&amp;7Cost: 100 coins&quot;</span>
    <span class="n">click</span> <span class="p">{</span>
      <span class="n">rules</span> <span class="p">{</span> <span class="o">//</span> <span class="n">Rules</span> <span class="n">block</span>
        <span class="n">money</span><span class="p">:</span> <span class="mi">100</span>
      <span class="p">}</span>
      <span class="n">actions</span> <span class="p">{</span> <span class="o">//</span> <span class="n">Actions</span> <span class="n">block</span><span class="o">.</span> <span class="n">It</span> <span class="n">will</span> <span class="n">performed</span> <span class="k">if</span> <span class="n">the</span> <span class="n">player</span> <span class="n">complies</span> <span class="k">with</span> <span class="n">the</span> <span class="n">rules</span> <span class="n">above</span><span class="o">.</span>
        <span class="n">itemAdd</span> <span class="p">{</span>
          <span class="n">material</span><span class="p">:</span> <span class="n">DIAMOND_SWORD</span>
          <span class="n">name</span><span class="p">:</span> <span class="s2">&quot;&amp;6Excalibur&quot;</span>
        <span class="p">}</span>
        <span class="n">takeMoney</span><span class="p">:</span> <span class="mi">100</span>
      <span class="p">}</span>
      <span class="n">denyActions</span> <span class="p">{</span> <span class="o">//</span> <span class="n">Another</span> <span class="n">actions</span> <span class="n">block</span><span class="o">.</span> <span class="n">It</span> <span class="n">will</span> <span class="n">performed</span> <span class="k">if</span> <span class="n">the</span> <span class="n">player</span> <span class="n">DOES</span> <span class="n">NOT</span> <span class="n">matches</span> <span class="n">the</span> <span class="n">rules</span> <span class="n">above</span>
        <span class="n">sound</span><span class="p">:</span> <span class="n">ENTITY_VILLAGER_NO</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">},</span>
<span class="p">]</span>
</pre></div>
</div>
<p>Here, our click block has expanded a bit. We added a <code class="docutils literal notranslate"><span class="pre">rules</span></code>, <code class="docutils literal notranslate"><span class="pre">actions</span></code> and <code class="docutils literal notranslate"><span class="pre">denyActions</span></code> blocks. You can read more about logical structures on <a class="reference internal" href="../advanced/logical.html"><span class="doc">Logical structures</span></a> page. Now we will briefly explain what happens if player click on this button:</p>
<ol class="arabic simple">
<li><p>The player’s balance will check for 100 coins.</p></li>
<li><p>If player have enough money, an item with the same name and material as button will be added to the player’s inventory. This possible with <code class="docutils literal notranslate"><span class="pre">itemAdd</span></code> action, and at the same time, 100 coins will be removed from the player’s balance.</p></li>
<li><p>If the player doesn’t have enough money, a specified sound will play.</p></li>
</ol>
</div>
</div>
<div class="section" id="add-a-rule-for-menu-opening">
<h2><a class="toc-backref" href="#id10">Add a rule for menu opening</a><a class="headerlink" href="#add-a-rule-for-menu-opening" title="Permalink to this headline">¶</a></h2>
<p>The last thing we want to talk about in this lesson is how to add rules to open a menu. If you specify the rules in the menu’s root, on the same level of parameters such as <code class="docutils literal notranslate"><span class="pre">title</span></code> and <code class="docutils literal notranslate"><span class="pre">size</span></code>, the following will happen:</p>
<ol class="arabic simple">
<li><p>Before opening the menu, the player will be checked for compliance with the rules.</p></li>
<li><p>If player matches, menu will open.</p></li>
<li><p>If it does not match, menu won’t be opened and the actions in the <code class="docutils literal notranslate"><span class="pre">denyActions</span></code> block will be executed, if they was specified.</p></li>
</ol>
<p>Below is an example of this behaviour.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">title</span><span class="p">:</span> <span class="s2">&quot;My first menu&quot;</span>
<span class="n">size</span><span class="p">:</span> <span class="mi">6</span>
<span class="n">activators</span> <span class="p">{</span>
  <span class="n">command</span><span class="p">:</span> <span class="s2">&quot;mymenu&quot;</span>
<span class="p">}</span>
<span class="n">rules</span> <span class="p">{</span> <span class="o">//</span> <span class="n">Rules</span> <span class="k">for</span> <span class="n">opening</span> <span class="n">the</span> <span class="n">menu</span>
  <span class="n">permission</span><span class="p">:</span> <span class="s2">&quot;i.am.admin&quot;</span>
<span class="p">}</span>
<span class="n">denyActions</span> <span class="p">{</span> <span class="o">//</span> <span class="n">Actions</span> <span class="n">that</span> <span class="n">will</span> <span class="n">be</span> <span class="n">executed</span> <span class="k">if</span> <span class="n">the</span> <span class="n">player</span> <span class="n">does</span> <span class="ow">not</span> <span class="n">comply</span> <span class="k">with</span> <span class="n">the</span> <span class="n">rules</span>
  <span class="n">message</span><span class="p">:</span> <span class="s2">&quot;&amp;cYou do not have permission to do this!&quot;</span>
<span class="p">}</span>
<span class="n">items</span><span class="p">:</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="n">slot</span><span class="p">:</span> <span class="mi">0</span>
    <span class="n">material</span><span class="p">:</span> <span class="n">DIAMOND_SWORD</span>
    <span class="n">name</span><span class="p">:</span> <span class="s2">&quot;&amp;6Excalibur&quot;</span>
  <span class="p">},</span>
<span class="p">]</span>
</pre></div>
</div>
<p>Now our menu can only be opened by a player with <code class="docutils literal notranslate"><span class="pre">i.am.admin</span></code> permission.</p>
<p>This was just an introduction lesson. We recommend you take a closer look at the plugin by studying the remaining lessons. There will be a lot of new information, but we sure, you will understand everything and the plugin will become your new powerful tool.</p>
<p>Good luck!</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="hocon.html" class="btn btn-neutral float-right" title="HOCON format" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="../index.html" class="btn btn-neutral float-left" title="AbstractMenus Wiki" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Nanit.

    </p>
  </div> 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>